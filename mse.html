<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Media Source Extension demo page</title>
    <script src="https://numminorihsf.github.io/mse-demo/dummy-player.js"></script>
</head>
<body>
<h1>Media Source Extension demo</h1>
<div><a href="index.html">Index</a></div>
<div>
    <video controls width="80%"></video>
</div>

<script>
    const video = document.querySelector('video');

    if (window.MediaSource) {
        // Создание объекта MediaSource
        const ms = new MediaSource();
        // Связывание <video> с объектом MediaSource
        video.src = URL.createObjectURL(ms);
        // Подписка на событие перехода объекта MediaSource в состояние open.
        // Это значит, что source был открыт <video> и готов к добавлению данных к объектам SourceBuffer в sourceBuffers.
        ms.addEventListener('sourceopen', onMediaSourceOpen);
    } else {
        console.error('No Media Source API available');
    }
</script>
</body>
</html>
